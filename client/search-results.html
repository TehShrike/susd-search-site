{{#if results && results.length > 0}}
<table class="pure-table pure-table-horizontal pure-table-striped" style="width: 100%">
	<tbody>
		{{#each results as result}}
			<tr>
				<td class="result-image-dolumn">
					<ExternalLink url="{{result.url}}" config="{{config}}" result="{{result}}">
						<img
							original-src="/transparent-pixel.png"
							lazy-src="pathJoin(config.imageServer, naiveDevicePixelRatio, result.imageUrl)"
							alt="{{result && result.title}}"
							style="width: 320px; height: 240px"
						/>
					</ExternalLink>
				</td>
				<td>
					{{result && result.title}}
					<ExternalLink url="{{result.url}}" clazz="bigly-header-link" result="{{result}}">
						<h2 class="susd-orange">{{result && result.title}}</h2>
					</ExternalLink>
					<ul class="tag-list">
						{{#each result.tags as tag}}
							<li class="pad-vertical">
								<a href="{{ asr.makePath(null, { type: currentType, tags: [ tag ]}) }}" class="gray">
									{{tag}}
								</a>
							</li>
						{{/each}}
					</ul>
				</td>
			</tr>
		{{/each}}
	</tbody>
</table>
{{/if}}

{{#if results.length === 0}}
<h2 class="gray" style="text-align: center; white-space: nowrap;">No matches :-x</h2>
{{/if}}

<script>

const pathJoin = require('url-join')
const ExternalLink = require('./external-link.html')

// Still need lazy-loading
export default {
	data() {
		return {
			results: [],
			naiveDevicePixelRatio: (window.devicePixelRatio > 1 ? 2 : 1),
		}
	},
	components: {
		ExternalLink,
	},
	methods: {
		pathJoin
	}
}
</script>
